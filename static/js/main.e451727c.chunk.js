(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),s=n(1),i=(n(18),n(4)),u=n(2),l=n(7);function d(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}var f=n(3);function m(e){var t=a.a.useState(e.state),n=Object(s.a)(t,2),c=n[0],o=n[1];Object(r.useEffect)(function(){o(e.state)},[e.state]);var i={backgroundColor:"transparent",border:"0.794239px solid #293264"},u=i;"init"===c?u=e.isSelected?{backgroundColor:"#D6DBF5",border:"none"}:i:"correct"===c?u={fontWeight:500,backgroundColor:"#94D7A2",border:"none"}:"incorrect"===c?u={color:"#969FCD",backgroundColor:"#F8BCBC",border:"none"}:"passive"===c&&(u={color:"#969FCD",backgroundColor:"transparent",border:"0.771045px solid #969FCD"});return a.a.createElement("div",{className:"answer",style:u,onClick:function(){e.toggle(),e.generateAnswerElements()}},a.a.createElement("p",null,e.value))}function b(e){var t={borderTop:"".concat(e.thickness," solid ").concat(e.color),width:"100%",marginTop:e.distance,marginBottom:e.distance};return a.a.createElement("div",{style:t})}function p(e){var t=Object(r.useContext)(j),n=t.questions,c=t.toggleSelectedAnswer,o=Object(r.useState)([]),i=Object(s.a)(o,2),u=i[0],l=i[1];Object(r.useEffect)(function(){l(d)},[n]);var d=function t(){return n.map(function(n){if(n.id===e.id)return n.allAnswers.map(function(n){return a.a.createElement(m,{id:n.id,key:n.id,value:n.value,isCorrect:n.isCorrect,isSelected:n.isSelected,state:n.state,toggle:function(){return c(e.id,n.id)},generateAnswerElements:t})})})};return a.a.createElement("div",{className:"question"},a.a.createElement("h3",null,e.question),a.a.createElement("div",{className:"answer-container"},u),a.a.createElement(b,{thickness:"1px",color:"#DBDEF0",distance:"20px"}))}function v(e,t){return{id:Object(f.a)(),value:d(e),isCorrect:t,isSelected:!1,state:"init"}}var E=Object(r.createContext)();function h(e){var t,n=e.children,c=Object(r.useState)([]),o=Object(s.a)(c,2),m=o[0],b=o[1],p=Object(r.useState)(0),h=Object(s.a)(p,2),j=h[0],w=h[1],O=function(){if(g()){var e=[];m.forEach(function(t){var n=[];t.allAnswers.forEach(function(e){e.isSelected&&e.isCorrect?(w(function(e){return e+1}),n.push(Object(u.a)({},e,{state:"correct"}))):e.isSelected&&!e.isCorrect?n.push(Object(u.a)({},e,{state:"incorrect"})):!e.isSelected&&e.isCorrect?n.push(Object(u.a)({},e,{state:"correct"})):n.push(Object(u.a)({},e,{state:"passive"}))}),e.push(Object(u.a)({},t,{allAnswers:n}))}),b(e)}else alert("You must answer all questions!")},g=function(){return!!m.every(function(e){return e.allAnswers.find(function(e){return e.isSelected})})},C=(t={questions:m,score:j,generateQuestions:function(){fetch("https://opentdb.com/api.php?amount=5&category=9&difficulty=easy&type=multiple").then(function(e){return e.json()}).then(function(e){b(e.results.map(function(e){var t=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}([v(e.correct_answer,!0)].concat(Object(l.a)(e.incorrect_answers.map(function(e){return v(e,!1)}))));return{id:Object(f.a)(),question:d(e.question),allAnswers:t}}))})},printQuestions:function(){console.log(m)},checkAnswer:O,toggleSelectedAnswer:function(e,t){var n=[];m.forEach(function(r){if(r.id===e){var a,c=[];r.allAnswers.forEach(function(e){var n=e;e.id===t?c.push(Object(u.a)({},n,{isSelected:!n.isSelected})):c.push(n)}),c.forEach(function(e){e.id!==t&&(e.isSelected=!1)}),a=Object(u.a)({},r,{allAnswers:c}),n.push(a)}else n.push(r)}),b(n)}},Object(i.a)(t,"checkAnswer",O),Object(i.a)(t,"setScore",w),t);return a.a.createElement(E.Provider,{value:C},n)}var j=E;function w(e){var t=Object(r.useContext)(j),n=(t.questions,t.generateQuestions);return a.a.createElement("div",{className:"start-page"},a.a.createElement("h1",null,"Quizzical"),a.a.createElement("p",null,"An online, multiple choice trivia app! Powered by React."),a.a.createElement("button",{onClick:function(){e.startQuiz(),n()}},"Start quiz"))}function O(){var e=Object(r.useContext)(j),t=e.questions,n=e.checkAnswer,c=e.score,o=e.setScore,i=e.generateQuestions,u=Object(r.useState)(!1),l=Object(s.a)(u,2),d=l[0],f=l[1],m=Object(r.useState)([]),b=Object(s.a)(m,2),v=b[0],E=b[1];Object(r.useEffect)(function(){E(t.map(function(e){return a.a.createElement(p,{key:e.id,id:e.id,question:e.question,allAnswers:e.allAnswers})}))},[t]);return a.a.createElement("div",{className:"quiz-page"},a.a.createElement("div",{className:"questions-container"},v),!d&&a.a.createElement("button",{className:"check-answer",onClick:function(){n(),f(!0)}},"Check answers"),d&&a.a.createElement("div",{className:"gameover"},a.a.createElement("h3",null,"You scored ",c,"/5 correct answers!"),a.a.createElement("button",{className:"check-answer",onClick:function(){o(0),f(!1),i()}},"Play again")))}function g(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return a.a.createElement(h,null,a.a.createElement("main",null,!n&&a.a.createElement(w,{startQuiz:function(){c(!0)}}),n&&a.a.createElement(O,null)))}o.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)))},9:function(e,t,n){e.exports=n(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.e451727c.chunk.js.map